let bluevoirCameraCaptureModule=function(){let e,t,n,l,i,o,a,r,d,c,u,s='<div id="bluevoir-video-box"></div>',y=!0,m="rgb(0,0,0,0.5)";async function v(){try{c=await navigator.mediaDevices.getUserMedia({video:!0}),t.srcObject=c,"block"===r.style.display&&(r.style.display="none"),"none"===d.style.display&&(d.style.display="block"),document.getElementById("bluevoir-camera-placeholder").style.display="none",t.style.display="block"}catch(e){console.error("Error accessing camera:",e),r.style.display="block",document.getElementById("bluevoir-camera-placeholder").style.display="none",d.style.display="none"}}function p(n){n.preventDefault();let o=document.createElement("canvas");o.width=t.videoWidth,o.height=t.videoHeight,o.getContext("2d").drawImage(t,0,0);let a=o.toDataURL("image/png");i.src=a,e.style.display="none",l.style.display="block",g()}function b(t){t.preventDefault(),v(),e.style.display="block",l.style.display="none"}function g(){if(c){c.getTracks().forEach(e=>e.stop())}}function f(e){e.preventDefault(),i.src&&(alert("Image is copied successfully to clipboard"),pega.api.ui.actions.setValue("pyWorkPage.pyTempText",i.src,!1)),null!=u&&null!=u&&null!=i&&u(i.src)}return{initialize:function(c=function(){},E={display:!0}){window.onbeforeunload=g,e=document.getElementById("bluevoir-camera-container"),t=document.getElementById("bluevoir-video"),n=document.getElementById("bluevoir-capture-btn"),l=document.getElementById("bluevoir-captured-image-container"),i=document.getElementById("bluevoir-captured-image"),o=document.getElementById("bluevoir-confirm-btn"),a=document.getElementById("bluevoir-retake-btn"),r=document.getElementById("bluevoir-permission-denied-container"),d=document.getElementById("bluevoir-parent-camera-container"),n.addEventListener("click",p),o.addEventListener("click",f),a.addEventListener("click",b),v(),u=c,null!=E&&(y=null==E.display||E.display,m=E.color||"rgba(0,0,0,0.5)"),function(){let t=document.getElementById("bluevoir-video-box");if(y){t||e.insertAdjacentHTML("afterbegin",s);let n=document.getElementById("bluevoir-video-box");n&&(n.style.boxShadow=`0 0 0 1000px ${m}`)}else t&&t.remove()}()},startCamera:v,stopCamera:g,retake:b}}(),bluevoirCustomActionDefined="undefined"!=typeof bluevoirCustomAction,bluevoirOverlayOptionsDefined="undefined"!=typeof bluevoirOverlayOptions;bluevoirCameraCaptureModule.initialize(bluevoirCustomActionDefined?bluevoirCustomAction:null,bluevoirOverlayOptionsDefined?bluevoirOverlayOptions:null);